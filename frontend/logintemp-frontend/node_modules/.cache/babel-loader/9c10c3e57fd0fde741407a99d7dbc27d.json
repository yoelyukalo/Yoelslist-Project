{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/YOELY/dev/flatiron/phase4labs/Yoelslist/frontend/logintemp-frontend/src/MyPosts.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nclass MyPosts extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.updatePost = e => {\n      e.preventDefault(); // e.target.reset();\n      // const { title, cost, body };\n      // const post = { title, cost, body };\n\n      let newPost = {\n        title: e.target.title.value,\n        pic: e.target.pic.value,\n        body: e.target.body.value,\n        cost: e.target.cost.value,\n        user_id: this.props.user.id\n      };\n      console.log(e.target.title.value, \", this is newpost\");\n      fetch(`http://localhost:3000/posts/${this.props.user.id}`, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(newPost)\n      }).then(r => r.json()).then(response => {\n        console.log(response); // localStorage.token = response.jwt;\n        // this.props.setCurrentUser(response.user);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"n\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }, \"My Posts\"), this.props.posts.map(post => /*#__PURE__*/React.createElement(EachPosts, {\n      key: post.id,\n      post: post,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 47\n      }\n    })));\n  }\n\n}\n\nexport default MyPosts;","map":{"version":3,"sources":["/mnt/c/Users/YOELY/dev/flatiron/phase4labs/Yoelslist/frontend/logintemp-frontend/src/MyPosts.js"],"names":["React","Component","Redirect","MyPosts","updatePost","e","preventDefault","newPost","title","target","value","pic","body","cost","user_id","props","user","id","console","log","fetch","method","headers","Accept","JSON","stringify","then","r","json","response","render","posts","map","post"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAAgC;AAAA;AAAA;;AAAA,SAG5BG,UAH4B,GAGdC,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;AAEA;AACA;;AAEA,UAAIC,OAAO,GAAG;AACZC,QAAAA,KAAK,EAAEH,CAAC,CAACI,MAAF,CAASD,KAAT,CAAeE,KADV;AAEZC,QAAAA,GAAG,EAAEN,CAAC,CAACI,MAAF,CAASE,GAAT,CAAaD,KAFN;AAGZE,QAAAA,IAAI,EAAEP,CAAC,CAACI,MAAF,CAASG,IAAT,CAAcF,KAHR;AAIZG,QAAAA,IAAI,EAAER,CAAC,CAACI,MAAF,CAASI,IAAT,CAAcH,KAJR;AAKZI,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC;AALb,OAAd;AAOJC,MAAAA,OAAO,CAACC,GAAR,CAAYd,CAAC,CAACI,MAAF,CAASD,KAAT,CAAeE,KAA3B,EAAkC,mBAAlC;AACIU,MAAAA,KAAK,CAAE,+BAA8B,KAAKL,KAAL,CAAWC,IAAX,CAAgBC,EAAG,EAAnD,EAAsD;AACzDI,QAAAA,MAAM,EAAE,MADiD;AAEzDC,QAAAA,OAAO,EAAE;AACPC,UAAAA,MAAM,EAAE,kBADD;AAEP,0BAAgB;AAFT,SAFgD;AAMzDX,QAAAA,IAAI,EAAEY,IAAI,CAACC,SAAL,CAAgBlB,OAAhB;AANmD,OAAtD,CAAL,CAQGmB,IARH,CAQSC,CAAD,IAAOA,CAAC,CAACC,IAAF,EARf,EASGF,IATH,CASSG,QAAD,IAAc;AAElBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ,EAFkB,CAGlB;AACA;AACD,OAdH;AAeD,KAjCyB;AAAA;;AAmC5BC,EAAAA,MAAM,GAAE;AACJ,wBACE;AAAK,MAAA,SAAS,EAAE,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADN,EAEO,KAAKf,KAAL,CAAWgB,KAAX,CAAiBC,GAAjB,CAAqBC,IAAI,iBAAI,oBAAC,SAAD;AAAW,MAAA,GAAG,EAAEA,IAAI,CAAChB,EAArB;AAAyB,MAAA,IAAI,EAAEgB,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7B,CAFP,CADF;AAOH;;AA3C2B;;AA8ChC,eAAe9B,OAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nclass MyPosts extends Component {\n    \n\n    updatePost = (e) => {\n        e.preventDefault();\n        // e.target.reset();\n    \n        // const { title, cost, body };\n        // const post = { title, cost, body };\n\n        let newPost = {\n          title: e.target.title.value,\n          pic: e.target.pic.value,\n          body: e.target.body.value, \n          cost: e.target.cost.value,\n          user_id: this.props.user.id\n        };\n    console.log(e.target.title.value, \", this is newpost\");\n        fetch(`http://localhost:3000/posts/${this.props.user.id}`, {\n          method: \"POST\",\n          headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify( newPost ),\n        })\n          .then((r) => r.json())\n          .then((response) => {\n\n            console.log(response);\n            // localStorage.token = response.jwt;\n            // this.props.setCurrentUser(response.user);\n          });\n      };\n\n    render(){\n        return(\n          <div className= \"n\">\n                <h1>My Posts</h1>\n                {this.props.posts.map(post => <EachPosts key={post.id} post={post}/>)}\n\n            </div>\n        );\n    }\n}\n\nexport default MyPosts;"]},"metadata":{},"sourceType":"module"}